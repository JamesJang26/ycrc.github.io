<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><link rel="canonical" href="https://docs.ycrc.yale.edu/clusters-at-yale/applications/compile/"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\-]+"><link rel="shortcut icon" href="/assets/images/favicon.ico"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.1"><title>Build Software - Yale Center for Research Computing</title><link rel="stylesheet" href="../../../assets/stylesheets/application.4031d38b.css"><script src="../../../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=swap"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../../../assets/fonts/material-icons.css"><link rel="stylesheet" href="../../../stylesheets/extra.css"><script>window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-133385440-1", "docs.ycrc.yale.edu")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })</script><script async src="https://www.google-analytics.com/analytics.js"></script></head><body dir="ltr"><svg class="md-svg"><defs></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#build-software" tabindex="1" class="md-skip">Skip to content </a><!--
  Copyright (c) 2016-2019 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Application header -->
<header class="md-header" data-md-component="header">

  <!-- Top-level navigation -->
  <nav class="md-header-nav md-grid">
    <div class="md-flex">

      <!-- Link to home -->
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.ycrc.yale.edu"
            title="Yale Center for Research Computing"
            class="md-header-nav__button md-logo">
          
            <i class="md-icon">library_books</i>
          
        </a>
      </div>

      <!-- Button to toggle drawer -->
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button"
            for="__drawer"></label>
      </div>

      <!-- Header title -->
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title"
            data-md-component="title">
          
            
              <span class="md-header-nav__topic branding" >
                <a href="http://research.computing.yale.edu">
                  <kern style="letter-spacing:-0.09em">Y</kern>ale <em>Center for Research Computing</em>
                </a>
              </span>
              <span class="md-header-nav__topic">
                Build Software
              </span>
            
          
        </div>
      </div>

      <!-- Button to open search dialogue -->
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button"
                for="__search"></label>

            <!-- Search interface -->
            <div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Type to start searching</div><ol class="md-search-result__list"></ol></div></div></div></div></div>
          
        
      </div>

      <!-- Repository containing source -->
      

    </div>


  </nav>
</header><div class="md-container"><!--
  Copyright (c) 2016-2019 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine class according to level -->


  


<!-- Tabs with outline -->
<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      <li class="md-tabs__item"><a class="md-tabs__link" href="http://research.computing.yale.edu/about">About</a></li>
      <li class="md-tabs__item"><a class="md-tabs__link" href="http://research.computing.yale.edu/news-events">News & Events</a></li>
      <li class="md-tabs__item"><a class="md-tabs__link" href="http://research.computing.yale.edu/research">Research</a></li>
      <li class="md-tabs__item"><a class="md-tabs__link" href="http://research.computing.yale.edu/services">Services</a></li>
      
        <li class="md-tabs__item"><a href="../../.." title="Support" class="md-tabs__link md-tabs__link--active">Support</a></li>
      
      <li class="md-tabs__item"><a class="md-tabs__link" href="http://research.computing.yale.edu/training">Training</a></li>
      <li class="md-tabs__item status"><a class="md-tabs__link" href="http://research.computing.yale.edu/system-status"><span id='status-icon'></span> System Status</a></li>
    </ul>
  </div>
</nav>

<div id="system-status-message"></div><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="https://docs.ycrc.yale.edu" title="Yale Center for Research Computing" class="md-nav__button md-logo"><i class="md-icon">library_books</i></a>Yale Center for Research Computing</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1" checked><label class="md-nav__link" for="nav-1">Support</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-1">Support</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../.." title="Introduction" class="md-nav__link">Introduction</a></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-2" type="checkbox" id="nav-1-2" checked><label class="md-nav__link" for="nav-1-2">Clusters at Yale</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-1-2">Clusters at Yale</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../" title="Getting Started" class="md-nav__link">Getting Started</a></li><li class="md-nav__item"><a href="https://research.computing.yale.edu/account-request" title="Request an Account" class="md-nav__link">Request an Account</a></li><li class="md-nav__item"><a href="../../troubleshoot/" title="Troubleshoot Login" class="md-nav__link">Troubleshoot Login</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-2-4" type="checkbox" id="nav-1-2-4"><label class="md-nav__link" for="nav-1-2-4">Access the Clusters</label><nav class="md-nav" data-md-component="collapsible" data-md-level="3"><label class="md-nav__title" for="nav-1-2-4">Access the Clusters</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../access/" title="Log on to the Clusters" class="md-nav__link">Log on to the Clusters</a></li><li class="md-nav__item"><a href="../../access/vpn/" title="Access from Off Campus (VPN)" class="md-nav__link">Access from Off Campus (VPN)</a></li><li class="md-nav__item"><a href="../../access/x11/" title="Graphical Interfaces (X11)" class="md-nav__link">Graphical Interfaces (X11)</a></li><li class="md-nav__item"><a href="../../access/vnc/" title="VNC" class="md-nav__link">VNC</a></li><li class="md-nav__item"><a href="../../access/mfa/" title="Multi-factor Authentication" class="md-nav__link">Multi-factor Authentication</a></li><li class="md-nav__item"><a href="../../access/advanced-config/" title="Advanced SSH Configuration" class="md-nav__link">Advanced SSH Configuration</a></li></ul></nav></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-2-5" type="checkbox" id="nav-1-2-5" checked><label class="md-nav__link" for="nav-1-2-5">Applications & Software</label><nav class="md-nav" data-md-component="collapsible" data-md-level="3"><label class="md-nav__title" for="nav-1-2-5">Applications & Software</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">Build Software</label><a href="./" title="Build Software" class="md-nav__link md-nav__link--active">Build Software</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#caveat-emptor" title="caveat emptor" class="md-nav__link">caveat emptor</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#illegal-instruction-instructions" title="Illegal Instruction Instructions" class="md-nav__link">Illegal Instruction Instructions</a></li></ul></nav></li><li class="md-nav__item"><a href="#conventions" title="Conventions" class="md-nav__link">Conventions</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#local-install" title="Local Install" class="md-nav__link">Local Install</a></li><li class="md-nav__item"><a href="#dependencies" title="Dependencies" class="md-nav__link">Dependencies</a></li></ul></nav></li><li class="md-nav__item"><a href="#autotools-configuremake" title="Autotools (configure/make)" class="md-nav__link">Autotools (configure/make)</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#configure" title="configure" class="md-nav__link">configure</a></li><li class="md-nav__item"><a href="#make-install" title="make install" class="md-nav__link">make install</a></li></ul></nav></li><li class="md-nav__item"><a href="#cmake" title="CMake" class="md-nav__link">CMake</a></li></ul></nav></li><li class="md-nav__item"><a href="../modules/" title="Load Software with Modules" class="md-nav__link">Load Software with Modules</a></li><li class="md-nav__item"><a href="../easybuild/" title="Toolchains and EasyBuild" class="md-nav__link">Toolchains and EasyBuild</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-2-6" type="checkbox" id="nav-1-2-6"><label class="md-nav__link" for="nav-1-2-6">Software Guides</label><nav class="md-nav" data-md-component="collapsible" data-md-level="3"><label class="md-nav__title" for="nav-1-2-6">Software Guides</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../guides/" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item"><a href="../../guides/cesm/" title="CESM/CAM" class="md-nav__link">CESM/CAM</a></li><li class="md-nav__item"><a href="../../guides/conda/" title="Conda" class="md-nav__link">Conda</a></li><li class="md-nav__item"><a href="../../guides/deep-learning-gpus/" title="Deep Learning with GPUs" class="md-nav__link">Deep Learning with GPUs</a></li><li class="md-nav__item"><a href="../../guides/gaussian/" title="Gaussian" class="md-nav__link">Gaussian</a></li><li class="md-nav__item"><a href="../../guides/gpus-cuda/" title="GPUs and CUDA" class="md-nav__link">GPUs and CUDA</a></li><li class="md-nav__item"><a href="../../guides/jupyter/" title="Jupyter Notebooks" class="md-nav__link">Jupyter Notebooks</a></li><li class="md-nav__item"><a href="../../guides/matlab/" title="MATLAB" class="md-nav__link">MATLAB</a></li><li class="md-nav__item"><a href="../../guides/mathematica/" title="Mathematica" class="md-nav__link">Mathematica</a></li><li class="md-nav__item"><a href="../../guides/r/" title="R" class="md-nav__link">R</a></li><li class="md-nav__item"><a href="../../guides/singularity/" title="Singularity" class="md-nav__link">Singularity</a></li><li class="md-nav__item"><a href="../../guides/tmux/" title="tmux" class="md-nav__link">tmux</a></li><li class="md-nav__item"><a href="../../guides/vasp/" title="VASP" class="md-nav__link">VASP</a></li><li class="md-nav__item"><a href="../../guides/github/" title="Version Control with GitHub" class="md-nav__link">Version Control with GitHub</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-2-7" type="checkbox" id="nav-1-2-7"><label class="md-nav__link" for="nav-1-2-7">Job Scheduling</label><nav class="md-nav" data-md-component="collapsible" data-md-level="3"><label class="md-nav__title" for="nav-1-2-7">Job Scheduling</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../job-scheduling/" title="Run Jobs with Slurm" class="md-nav__link">Run Jobs with Slurm</a></li><li class="md-nav__item"><a href="../../job-scheduling/resource-requests/" title="Request Compute Resources" class="md-nav__link">Request Compute Resources</a></li><li class="md-nav__item"><a href="../../job-scheduling/resource-usage/" title="Monitor CPU and Memory" class="md-nav__link">Monitor CPU and Memory</a></li><li class="md-nav__item"><a href="../../job-scheduling/fairshare/" title="Factors Affecting Scheduling" class="md-nav__link">Factors Affecting Scheduling</a></li><li class="md-nav__item"><a href="../../job-scheduling/scavenge/" title="Scavenge Partition" class="md-nav__link">Scavenge Partition</a></li><li class="md-nav__item"><a href="../../job-scheduling/dsq/" title="Submit Job Arrays with dSQ" class="md-nav__link">Submit Job Arrays with dSQ</a></li><li class="md-nav__item"><a href="../../job-scheduling/slurm-examples/" title="Submission Script Examples" class="md-nav__link">Submission Script Examples</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-2-8" type="checkbox" id="nav-1-2-8"><label class="md-nav__link" for="nav-1-2-8">Data & Storage</label><nav class="md-nav" data-md-component="collapsible" data-md-level="3"><label class="md-nav__title" for="nav-1-2-8">Data & Storage</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../data/" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item"><a href="../../data/cluster-storage/" title="Cluster Storage" class="md-nav__link">Cluster Storage</a></li><li class="md-nav__item"><a href="../../data/transfer/" title="Transfer Data" class="md-nav__link">Transfer Data</a></li><li class="md-nav__item"><a href="../../data/permissions/" title="Manage Permissions for Sharing" class="md-nav__link">Manage Permissions for Sharing</a></li><li class="md-nav__item"><a href="../../data/archived-sequencing/" title="Ruddle Archived Sequence Data" class="md-nav__link">Ruddle Archived Sequence Data</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-2-9" type="checkbox" id="nav-1-2-9"><label class="md-nav__link" for="nav-1-2-9">The Clusters</label><nav class="md-nav" data-md-component="collapsible" data-md-level="3"><label class="md-nav__title" for="nav-1-2-9">The Clusters</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../clusters/" title="HPC Resources" class="md-nav__link">HPC Resources</a></li><li class="md-nav__item"><a href="../../clusters/grace/" title="Grace" class="md-nav__link">Grace</a></li><li class="md-nav__item"><a href="../../clusters/farnam/" title="Farnam" class="md-nav__link">Farnam</a></li><li class="md-nav__item"><a href="../../clusters/ruddle/" title="Ruddle" class="md-nav__link">Ruddle</a></li><li class="md-nav__item"><a href="../../clusters/omega/" title="Omega" class="md-nav__link">Omega</a></li><li class="md-nav__item"><a href="../../clusters/milgram/" title="Milgram" class="md-nav__link">Milgram</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-3" type="checkbox" id="nav-1-3"><label class="md-nav__link" for="nav-1-3">Research Data</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-1-3">Research Data</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../../data/" title="Data Storage Options" class="md-nav__link">Data Storage Options</a></li><li class="md-nav__item"><a href="../../../data/archive/" title="Archive Your Data" class="md-nav__link">Archive Your Data</a></li><li class="md-nav__item"><a href="../../../data/google-drive/" title="Google Drive" class="md-nav__link">Google Drive</a></li></ul></nav></li><li class="md-nav__item"><a href="../../../user-group/" title="YCRC User Group" class="md-nav__link">YCRC User Group</a></li><li class="md-nav__item"><a href="../../../national-hpcs/" title="National HPCs" class="md-nav__link">National HPCs</a></li><li class="md-nav__item"><a href="../../../online-tutorials/" title="Online Tutorials" class="md-nav__link">Online Tutorials</a></li></ul></nav></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#caveat-emptor" title="caveat emptor" class="md-nav__link">caveat emptor</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#illegal-instruction-instructions" title="Illegal Instruction Instructions" class="md-nav__link">Illegal Instruction Instructions</a></li></ul></nav></li><li class="md-nav__item"><a href="#conventions" title="Conventions" class="md-nav__link">Conventions</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#local-install" title="Local Install" class="md-nav__link">Local Install</a></li><li class="md-nav__item"><a href="#dependencies" title="Dependencies" class="md-nav__link">Dependencies</a></li></ul></nav></li><li class="md-nav__item"><a href="#autotools-configuremake" title="Autotools (configure/make)" class="md-nav__link">Autotools (configure/make)</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#configure" title="configure" class="md-nav__link">configure</a></li><li class="md-nav__item"><a href="#make-install" title="make install" class="md-nav__link">make install</a></li></ul></nav></li><li class="md-nav__item"><a href="#cmake" title="CMake" class="md-nav__link">CMake</a></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><h1 id="build-software">Build Software</h1>
<p>How to get software you need up and running on the clusters.</p>
<h2 id="caveat-emptor"><em>caveat emptor</em></h2>
<p>We recommend either use existing <a href="/clusters-at-yale/applications/modules">software modules</a>, <a href="/clusters-at-yale/guides/conda">Anaconda</a>, <a href="/clusters-at-yale/guides/singularity">Singularity</a>, or pre-compiled software where available. However, there are cases where compiling applications is necessary or desired. This can be because the pre-compiled version isn't readily available/compatible or because compiling applications on the cluster will make an appreciable difference in performance. It is also the case that many R packages are compiled at install time.</p>
<p>When compiling applications on the clusters, it is important to consider the ways in which you expect to run the application you are endeavoring to get working. If you want to be able to run jobs calling your application any node on the cluster, you will need to target the oldest hardware available so that newer optimizations are not used that will fail on some nodes. If your application is already quite specialized (e.g. needs GPUs or brand-new CPU instructions), you will want to compile it natively for the subset of compute nodes on which your jobs will run. This decision is often a trade-off between faster individual jobs or jobs that can run on more nodes at once.</p>
<p>Each of the cluster pages (see the <a href="/clusters-at-yale/clusters">clusters index</a> for a list) has a "Compute Node Configurations" section where nodes are roughly listed from oldest to newest.</p>
<h3 id="illegal-instruction-instructions">Illegal Instruction Instructions</h3>
<p>You may find that software compiled on newer compute nodes will fail with the error <code>Illegal instruction (core dumped)</code>. This includes R/Python libraries that include code that compiles from source. To remedy this issue make sure to always either:</p>
<ul>
<li>Build or install software on the oldest available nodes. You can ensure you are on the oldest hardware by specifying the <code>oldest</code> feature (<code>--constraint oldest</code>) in your job submission.</li>
<li>Require that your jobs running the software in question request similar hardware to their build environment. If your software needs newer instructions using <code>avx2</code> as a constraint will probably work.</li>
</ul>
<p>Either way, you will want to control where your jobs run with <a href="/clusters-at-yale/job-scheduling/resource-requests/#features-and-constraints">job constraints</a>.</p>
<h2 id="conventions">Conventions</h2>
<h3 id="local-install">Local Install</h3>
<p>Because you don't have admin/root/sudo privileges on the clusters, you won't be able to use <code>sudo</code> and a package manager like <code>apt</code>, <code>yum</code>, etc.; You will need to adapt install instructions to allow for what is called a local or user install. If you prefer or require this method, you should create a singularity container image (see our <a href="/clusters-at-yale/guides/singularity/">Singularity guide</a>), then run it on the cluster.</p>
<p>For things to work smoothly you will need to choose and stick with a prefix, or path to your installed applications and libraries. We recommend this be either in your home or project directory, something like <code>~/software</code> or <code>/path/to/project/software</code>. Make sure you have created it before continuing.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you choose a project directory prefix, it will be easier to share your applications with lab mates or other cluster users. Just make sure to use the true path (the one returned by <code>mydirectories</code>).</p>
</div>
<p>Once you've chosen a prefix you will want to add any directory with executables you want to run to your <code>PATH</code> environment variable, and any directores with libraries that your application(s) link to your <code>LD_LIBRARY_PATH</code> environment variable. Each of these tell your shell where to look when you call your application without specifying an absolute path to it. To set these variables permanently, add the following to the end of your <code>~/.bashrc</code> file:</p>
<div class="codehilite"><pre><span></span><span class="c1"># local installs</span>
<span class="nb">export</span> <span class="nv">MY_PREFIX</span><span class="o">=</span>~/software
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$MY_PREFIX</span>/bin:<span class="nv">$PATH</span>
<span class="nb">export</span> <span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$MY_PREFIX</span>/lib:<span class="nv">$LD_LIBRARY_PATH</span>
</pre></div>


<p>For the remainder of the guide we'll use the <code>$MY_PREFIX</code> variable to refer to the prefix. See below or your application's install instructions for exactly how to specify your prefix at build/install time.</p>
<h3 id="dependencies">Dependencies</h3>
<p>You will need to develop a build strategy that works for you and stay consistent. If you're happy using libraries and <a href="/clusters-at-yale/applications/easybuild/#toolchains">toolchains</a> that are already available on the cluster as dependencies (recommended), feel free to create <a href="/clusters-at-yale/applications/modules/#module-collections">module collections</a> that serve as your environments. If you prefer to completely build your own software tree, that is ok too. Whichever route you choose, try to stick with the same version of dependencies (e.g. MPI, zlib, numpy) and compiler you're using (e.g. GCC, intel). We find that unless absolutely necessary, the newest version of a compiler or library might not be the most compatible with a wide array of scientific software so you may want to step back a few versions or try using what was available at the time your application was being developed.</p>
<h2 id="autotools-configuremake">Autotools (<code>configure</code>/<code>make</code>)</h2>
<p>If your application includes instructions to run <code>./bootstrap</code>, <code>./autogen.sh</code>, <code>./configure</code> or <code>make</code>, it is using the <a href="https://en.wikipedia.org/wiki/GNU_Build_System">GNU Build System</a>. </p>
<h3 id="configure"><code>configure</code></h3>
<p>If you are instructed to run <code>./configure</code> to generate a Makefile, specify your prefix with the <code>--prefix</code> option. This creates a file, usually named <code>Makefile</code> that is a recipe for <code>make</code> to use to build your application.</p>
<div class="codehilite"><pre><span></span><span class="nb">export</span> <span class="nv">MY_PREFIX</span><span class="o">=</span>~/software
./configure --prefix<span class="o">=</span><span class="nv">$MY_PREFIX</span>
</pre></div>


<h3 id="make-install"><code>make install</code></h3>
<p>If your configure ran properly, <code>make install</code> should properly place your application in your prefix directory. If there is no install target specified for your application, you can either run <code>make</code> and copy the application to your <code>$MY_PREFIX/bin</code> directory or build it somewhere in <code>$MY_PREFIX</code> and add its relevant paths to your <code>PATH</code> and/or <code>LD_LIBRARY_PATH</code> environment variables in your <code>~/.bashrc</code> file as shown in the <a href="#local-install">local install</a> section.</p>
<h2 id="cmake">CMake</h2>
<p><a href="https://en.wikipedia.org/wiki/CMake">CMake</a> is a popular cross-platform build system. On a linux system, CMake will create a <code>Makefile</code> in a step analogous to <code>./configure</code>. It is common to create a build directory then run the <code>cmake</code> and <code>make</code> commands from there. Below is what installing to your <code>$MY_DIRECTORY</code> prefix might look like with CMake. CMake instructions also tend to link together the build process onto on line with <code>&amp;&amp;</code>, which tells your shell to only continue to the next command if the previous one exited without error.</p>
<div class="codehilite"><pre><span></span><span class="nb">export</span> <span class="nv">MY_PREFIX</span><span class="o">=</span>~/software
mkdir build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> build <span class="o">&amp;&amp;</span> cmake -DCMAKE_INSTALL_PREFIX<span class="o">=</span><span class="nv">$MY_PREFIX</span> .. <span class="o">&amp;&amp;</span> make <span class="o">&amp;&amp;</span> make install
</pre></div></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a href="../" title="Overview" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Previous</span>Overview</span></div></a><a href="../modules/" title="Load Software with Modules" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Next</span>Load Software with Modules</span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright">powered by <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a></div></div></div></footer></div><script src="../../../assets/javascripts/application.b260a35d.js"></script><script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script><script src="../../../js/extra.js"></script><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script></body></html>